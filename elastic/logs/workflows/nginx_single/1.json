{
  "id": "Open [Logs Nginx] Overview dashboard",
  "name": "POST /api/metrics/vis/data",
  "requests": [
    {
      "stream": [
        {
          "stream": [
            {
              "name": "Elasticsearch: POST /logs-*/_async_search - nginx - 1.1",
              "operation-type": "search",
              "index": "logs-nginx.access*",
              "cache": "false",
              "request-params": {
                "batched_reduce_size": "64",
                "ignore_unavailable": "true",
                "track_total_hits": "true",
                "enable_fields_emulation": "true"
              },
              "body": {
                "size": 5000,
                "query": {
                  "bool": {
                    "must": [
                      {
                        "range": {
                          "@timestamp": {
                            "gte": "2022-04-19T18:52:16.168Z",
                            "lte": "2022-04-28T19:07:16.168Z",
                            "format": "strict_date_optional_time"
                          }
                        }
                      },
                      {
                        "bool": {
                          "must": [
                            {
                              "query_string": {
                                "query": "data_stream.dataset:nginx.access",
                                "analyze_wildcard": true
                              }
                            }
                          ],
                          "filter": [],
                          "should": [],
                          "must_not": []
                        }
                      }
                    ],
                    "filter": [],
                    "should": [],
                    "must_not": []
                  }
                },
                "aggs": {
                  "61ca57f1-469d-11e7-af02-69e470af7417": {
                    "terms": {
                      "field": "url.original",
                      "order": {
                        "_count": "desc"
                      }
                    },
                    "aggs": {
                      "timeseries": {
                        "date_histogram": {
                          "field": "@timestamp",
                          "min_doc_count": 0,
                          "time_zone": "UTC",
                          "extended_bounds": {
                            "min": 1650480736168,
                            "max": 1650481636168
                          },
                          "fixed_interval": "120s"
                        },
                        "aggs": {
                          "61ca57f2-469d-11e7-af02-69e470af7417": {
                            "bucket_script": {
                              "buckets_path": {
                                "count": "_count"
                              },
                              "script": {
                                "source": "count * 1",
                                "lang": "expression"
                              },
                              "gap_policy": "skip"
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "timeField": "@timestamp",
                      "panelId": "61ca57f0-469d-11e7-af02-69e470af7417",
                      "seriesId": "61ca57f1-469d-11e7-af02-69e470af7417",
                      "intervalString": "10s"
                    }
                  }
                },
                "runtime_mappings": {},
                "timeout": "30000ms"
              }
            }
          ]
        }
      ]
    }
  ]
}